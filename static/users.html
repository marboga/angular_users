<!DOCTYPE html>
<html ng-app="myApp">
	<head>
		<meta charset="utf-8">
		<title>User App</title>
		<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.5/angular.min.js"></script>
	   <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.5/angular-route.min.js"></script>
		<script type="text/javascript">
		console.log('made it')
			var myApp = angular.module('myApp', []);
			myApp.controller('usersController', function($scope){
				$scope.users = [
					{first_name: "Patrick", last_name: "Bunkley", fav_lang: "R"},
					{first_name: "Emma", last_name: "Bunkley", fav_lang: "Pulaar"},
					{first_name: "Patrick", last_name: "Nance", fav_lang: "English"},
					{first_name: "Keenan", last_name: "Havens", fav_lang: "Japanese"},
				]
				$scope.addUser = function(){
					$scope.users.push($scope.newUser);
					$scope.newUser = {};
				}
				$scope.deleteUser = function(user){
					console.log(user)
					$scope.users.splice($scope.users.indexOf(user), 1);
					$scope.filter_here = '';
				}
			})
		</script>
	</head>
	<body>
		<div ng-controller='usersController'>
			Favorite User:
			First Name <input type="text" ng-model="newUser.first_name">
			Last Name <input type="text" ng-model="newUser.last_name">
			Fave Language <input type="text" ng-model="newUser.fav_lang">
			<input type="submit" value="Create User" ng-click='addUser()'>
			search users:<input type="text"  ng-model="filter_here">
			<!-- <div class="things" name="">
				<p ng-repeat='food in foods | filter:filter'>{{ food }}</p>
			</div><br> -->
			<table border="1px solid green">
				<thead ng-controller='usersController'>
					<tr>
						<td>First Name</td>
						<td>Last Name</td>
						<td>Favorite Language</td>
						<td>Actions</td>
				</tr>
				</thead>
				<tbody ng-repeat='user in users | filter:filter_here '>
					<tr>
						<td> {{ user.first_name }} </td>
						<td> {{ user.last_name }} </td>
						<td> {{ user.fav_lang }} </td>
						<td> <a ng-click='deleteUser(user)' href="#/#">delete {{user.first_name}}</a> </td>
					</tr>
				</tbody>
			</table>

		</div>
	</body>
</html>
